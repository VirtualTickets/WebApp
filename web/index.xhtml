<?xml version='1.0' encoding='UTF-8' ?>
<!-- TODO Lists for Others:                                              -->

<!-- Alex & Ben:  ********************************************************************************************************************************************* -->
<!-- date selector on movie page as well, like fandango -->
<!-- potential date selector options http://www.primefaces.org/showcase/ui/input/calendar.xhtml That page has a few, not just the calendar thing.
     http://www.primefaces.org/showcase/ui/misc/responsive.xhtml the calendar text line here is really cool, check it out as an option -->
<!-- movies page needs to reset when navigated away from -->
<!-- On Movies.xhtml: blue theater tab or blue background for contents of the accordionPanel (#3cc5bc) -->
<!-- section titles need to be in CAPS. (NOW PLAYING for e.x.)-->
<!-- favorite button on movies page needs to be the outline of a star that when hovered over fills in with orange, blue, or yellow (decide on the best looking color). -->
<!-- theme of blue/orange/dark gray/light gray needs to be used across all pages. --> 
<!-- add fields for things like genre, actors, producer, etc to movies page -->
<!-- get some trailers!!!! 
     http://www.primefaces.org/showcase/ui/multimedia/media.xhtml for inline. Look at my jquery on index for popup player -->
<!-- put search button on right side of the search box and make it simply a magnifier icon
     http://www.primefaces.org/showcase/ui/misc/responsive.xhtml splitButton might be good for this. -->
<!-- what is that random string below release date on the movies page? -->
<!-- favorites page is blank -->
<!-- Some movies, such as Baaghi in 22043 zip code, don't have a poster, runtime, etc. When you search for those showtimes a NullPointerException is thrown.
     This needs to be handled more gracefully. 
     Similarly trying to find tickets for los compadres gives the following error:
     Message=/SearchResults.xhtml @56,85 value="pound{movie.releaseDate}": java.lang.StringIndexOutOfBoundsException: String index out of range: 7-->
<!-- ********************************************************************************************************************************************************** -->

<!-- Nick G:    *********************************************************************************************************************************************** -->
<!-- nick needs to fix the forgot password button, so that it uses jquery style -->
<!-- white text for top menu and change font if possible. -->
<!-- signing in requires clicking the button. it should submit when the user hits enter as well. -->
<!-- purchase history should have newest purchases at the top -->
<!-- space out buttons on profile page -->
<!-- dont show full CC number. maybe show ********1234 (*s for all but last 4 digits) -->
<!-- should logging in return you to the index? I just logged in while on the create account page and it left me there -->
<!-- ********************************************************************************************************************************************************** -->


<!-- Ben, Alex, and Nick, these apply to all of you:    ******************************************************************************************************* -->
<!-- change timestamps to normal, fuck this military shit. I see it in purchase history -->
<!-- footer needs to be at bottom of page, not at the bottom of the page's content. this issue exists on a few diff pages. -->
<!-- pages need to reset when you navigate away from them. currently fields stay filled in as they were -->
<!-- the dialogbox theme is not consistent accross pages, because the jquery.css file refrenced in index is not on every page. This leads to things like log in dialog box
     looking different of different pages. Adding the jquery.css file to the header or footer might fix this. -->
<!-- spacing above and below titles needs to be equal. look at index.html for examples. -->
<!-- any buttons that are touching each other need to be spaced -->
<!-- favorites shouldn't be in the header, only in the user drop down. -->
<!-- I tried my best to comment out all of the print statements, but there are still some weird ones labeled "Severe:" that I believe Ben made and I can't find. --> 
<!-- maybe add info to qr code for who purchased the ticket. So something like "Paid for by Kent Hannigan with credit card ending in 1234." -->
<!-- ********************************************************************************************************************************************************** -->


<!-- My TODO List: --> 
<!-- if you clicked get tickets and showtimes while drop down is on choose a movie, nothing should happen or error message displayed -->
<!-- need to get the SEARCH_BY_POSTER shit working. not sure why it doesn't -->
<!-- consider a blue footer -->
<!-- update contact us to have pics of everybody -->
<!-- need to get list of "highest grossing / most popular" -->
<!-- make everythings dimension in relation to the screen size, to enable risizing of the window? -->
<!-- consider making the play icon fixed size -->
<!-- consider making the change loc box and button smaller. -->
<!-- add hover stuff to the search button in header -->
<!-- add outlines to the images on contact us page. -->
<!-- ask nick how he got the titlebar for his dialog to be the right color and fix the outline around close button when clicked -->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Virtual Tickets Cloud App</title>
        <h:outputStylesheet name="css/jsfcrud.css"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <h:outputStylesheet name="css/global.css"/> 
        <link href='https://fonts.googleapis.com/css?family=Lato:900' rel='stylesheet' type='text/css'></link>
    </h:head>

    <h:body>
        <ui:composition template="/templates/main.xhtml">
            <ui:define name="content">
                <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
                <h:outputStylesheet name="css/jquery-ui.css"/> 
                <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1/jquery-ui.min.js"></script>
                <script type="text/javascript" src="http://lab.abhinayrathore.com/jquery_youtube/jquery.youtubepopup.js"></script>

                <script type="text/javascript">
                    $(function () {
                        $("a.youtube").YouTubePopup({autoplay: 1});
                    });
                    
                    var dropDown = document.getElementById('select_movie');
                    var ticketsButton = document.getElementById('getShowtimes');
                    dropDown.onchange = function() {
                        ticketsButton.disabled = false;
                    };
                </script>
                <div>
                    <h:form class="form">
                        <div class="ticketsAndShowtimesDiv"  align="center">
                            <br/>
                            <h1 id="ticketsAndShowtimesTitle">TICKETS &amp; SHOWTIMES NEARBY </h1>
                            <h:panelGrid styleClass="ticketsPanel" border="1">
                                <h:panelGrid columns="2" columnClasses="leftAlign, rightAlign">
                                    <h:panelGroup style="display:block; text-align:center">
                                        <h:selectOneMenu id="select_movie" value="#{movieManager.searchTitle}" required="true" onchange="dropdownSelect()" style="font-size:30px">
                                            <f:selectItems value="#{movieManager.nowPlayingTitles}"/>
                                        </h:selectOneMenu>
                                    </h:panelGroup>
                                    <h:commandButton id="getShowtimes"  action="#{movieManager.searchByTitle()}" value="Get Tickets &amp; Showtimes" styleClass="buttonText" style="width:240px; height:40px; font-size:20px"/>
                                </h:panelGrid>
                            </h:panelGrid>
                            <br />
                            <br/>
                        </div>
                        <div align="center">
                            <h1 id="criticallyAcclaimedTitle">CRITICALLY ACCLAIMED</h1>
                        </div>
                        <ul class="slides" >
                            <input type="radio" name="radio-btn" id="img-1" checked="true" />
                            <li class="slide-container">
                                <div id="parent">
                                    <div class="slide">
                                        <div class="textOverlay">
                                            <img id="backImage" src="#{resource['images:backImage1.jpg']}" alt="" />
                                            <span class="movieTitle" id="title1">#{movieManager.criticallyAcclaimedTitles[0]}</span>
                                            <span class="rtRating">
                                                <img src="#{resource['images:rtIcon.png']}" style="width:26%; height:27%; margin-bottom:5px;" />
                                                <span style="margin-left: 10px;">
                                                    #{movieManager.criticallyAcclaimedRTRating[0]}
                                                </span>
                                            </span>

                                            <span class="imdbRating">
                                                <img src="#{resource['images:imdbIcon.png']}" style="width:50%; height:25%; margin-bottom: 5px; margin-top: 5px;" />                                                           
                                                <span style="margin-left: 10px;">
                                                    #{movieManager.criticallyAcclaimedImdbRating[0]}
                                                </span>
                                            </span>
                                            <span class="criticsConsensus"><u><b>Critics Consensus:</b></u> #{movieManager.criticallyAcclaimedRTCriticsConsensus[0]}
                                            </span>
                                        </div>
                                        <a class="youtube" href="https://www.youtube.com/watch?v=HcgJRQWxKnw"
                                           title="Watch Trailer">
                                            <img src="#{resource['images:playIcon.png']}" border="0" class="playIcon" />
                                        </a>
                                    </div>
                                </div>
                                <div class="nav">
                                    <label for="img-6" class="prev">&#x2039;</label>
                                    <label for="img-2" class="next">&#x203a;</label>
                                </div>
                            </li>

                            <input type="radio" name="radio-btn" id="img-2" />
                            <li class="slide-container">
                                <div id="parent">
                                    <div class="slide">
                                        <div class="textOverlay">
                                            <img id="backImage" src="#{resource['images:backImage2.jpg']}" alt="" />
                                            <span class="movieTitle" id="title2">#{movieManager.criticallyAcclaimedTitles[1]}</span>
                                            <span class="rtRating">
                                                <img src="#{resource['images:rtIcon.png']}" style="width:26%; height:27%; margin-bottom:5px;" />
                                                <span style="margin-left: 10px; ">
                                                    #{movieManager.criticallyAcclaimedRTRating[1]}
                                                </span>
                                            </span>

                                            <span class="imdbRating">
                                                <img src="#{resource['images:imdbIcon.png']}" style="width:50%; height:25%; margin-bottom: 5px; margin-top: 5px;" />                                                         
                                                <span style="margin-left: 10px;">
                                                    #{movieManager.criticallyAcclaimedImdbRating[1]}
                                                </span>
                                            </span>
                                            <span class="criticsConsensus"><u><b>Critics Consensus:</b></u> #{movieManager.criticallyAcclaimedRTCriticsConsensus[1]}
                                            </span>
                                        </div>
                                        <a class="youtube" href="https://www.youtube.com/watch?v=l2vPDGStL4k"
                                           title="Watch Trailer">
                                            <img src="#{resource['images:playIcon.png']}" border="0" class="playIcon" />
                                        </a>
                                    </div>
                                </div>
                                <div class="nav">
                                    <label for="img-1" class="prev">&#x2039;</label>
                                    <label for="img-3" class="next">&#x203a;</label>
                                </div>
                            </li>

                            <input type="radio" name="radio-btn" id="img-3" />
                            <li class="slide-container">
                                <div id="parent">
                                    <div class="slide">
                                        <div class="textOverlay">
                                            <img id="backImage" src="#{resource['images:backImage3.jpg']}" alt="" />
                                            <span class="movieTitle" id="title3">#{movieManager.criticallyAcclaimedTitles[2]}</span>
                                            <span class="rtRating">
                                                <img src="#{resource['images:rtIcon.png']}" style="width:26%; height:27%; margin-bottom:5px;" />
                                                <span style="margin-left: 10px; ">
                                                    #{movieManager.criticallyAcclaimedRTRating[2]}
                                                </span>
                                            </span>

                                            <span class="imdbRating">
                                                <img src="#{resource['images:imdbIcon.png']}" style="width:50%; height:25%; margin-bottom: 5px; margin-top: 5px;" />                                                         
                                                <span style="margin-left: 10px;">
                                                    #{movieManager.criticallyAcclaimedImdbRating[2]}
                                                </span>
                                            </span>
                                            <span class="criticsConsensus"><u><b>Critics Consensus:</b></u> #{movieManager.criticallyAcclaimedRTCriticsConsensus[2]}
                                            </span>
                                        </div>
                                        <a class="youtube" href="https://www.youtube.com/watch?v=jWM0ct-OLsM"
                                           title="Watch Trailer">
                                            <img src="#{resource['images:playIcon.png']}" border="0" class="playIcon" />
                                        </a>
                                    </div>
                                </div>
                                <div class="nav">
                                    <label for="img-2" class="prev">&#x2039;</label>
                                    <label for="img-4" class="next">&#x203a;</label>
                                </div>
                            </li>

                            <input type="radio" name="radio-btn" id="img-4" />
                            <li class="slide-container">
                                <div id="parent">
                                    <div class="slide">
                                        <div class="textOverlay">
                                            <img id="backImage" src="#{resource['images:backImage4.jpg']}" alt="" />
                                            <span class="movieTitle" id="title4">#{movieManager.criticallyAcclaimedTitles[3]}</span>
                                            <span class="rtRating">
                                                <img src="#{resource['images:rtIcon.png']}" style="width:26%; height:27%; margin-bottom:5px;" />
                                                <span style="margin-left: 10px; ">
                                                    #{movieManager.criticallyAcclaimedRTRating[3]}
                                                </span>
                                            </span>

                                            <span class="imdbRating">
                                                <img src="#{resource['images:imdbIcon.png']}" style="width:50%; height:25%; margin-bottom: 5px; margin-top: 5px;" />                                                         
                                                <span style="margin-left: 10px;">
                                                    #{movieManager.criticallyAcclaimedImdbRating[3]}
                                                </span>
                                            </span>
                                            <span class="criticsConsensus"><u><b>Critics Consensus:</b></u> #{movieManager.criticallyAcclaimedRTCriticsConsensus[3]}
                                            </span>
                                        </div>
                                        <a class="youtube" href="https://www.youtube.com/watch?v=qiDE84TdJvA"
                                           title="Watch Trailer">
                                            <img src="#{resource['images:playIcon.png']}" border="0" class="playIcon" />
                                        </a>
                                    </div>
                                </div>
                                <div class="nav">
                                    <label for="img-3" class="prev">&#x2039;</label>
                                    <label for="img-5" class="next">&#x203a;</label>
                                </div>
                            </li>

                            <input type="radio" name="radio-btn" id="img-5" />
                            <li class="slide-container">
                                <div id="parent">
                                    <div class="slide">
                                        <div class="textOverlay">
                                            <img id="backImage" src="#{resource['images:backImage5.jpg']}" alt="" />
                                            <span class="movieTitle" id="title5">#{movieManager.criticallyAcclaimedTitles[4]}</span>
                                            <span class="rtRating">
                                                <img src="#{resource['images:rtIcon.png']}" style="width:26%; height:27%; margin-bottom:5px;" />
                                                <span style="margin-left: 10px; ">
                                                    #{movieManager.criticallyAcclaimedRTRating[4]}
                                                </span>
                                            </span>

                                            <span class="imdbRating">
                                                <img src="#{resource['images:imdbIcon.png']}" style="width:50%; height:25%; margin-bottom: 5px; margin-top: 5px;" />                                                         
                                                <span style="margin-left: 10px;">
                                                    #{movieManager.criticallyAcclaimedImdbRating[4]}
                                                </span>
                                            </span>
                                            <span class="criticsConsensus"><u><b>Critics Consensus:</b></u> #{movieManager.criticallyAcclaimedRTCriticsConsensus[4]}
                                            </span>
                                        </div>
                                        <a class="youtube" href="https://www.youtube.com/watch?v=iQXmlf3Sefg"
                                           title="Watch Trailer">
                                            <img src="#{resource['images:playIcon.png']}" border="0" class="playIcon" />
                                        </a>
                                    </div>
                                </div>
                                <div class="nav">
                                    <label for="img-4" class="prev">&#x2039;</label>
                                    <label for="img-6" class="next">&#x203a;</label>
                                </div>
                            </li>

                            <input type="radio" name="radio-btn" id="img-6" />
                            <li class="slide-container">
                                <div id="parent">
                                    <div class="slide">
                                        <div class="textOverlay">
                                            <img id="backImage" src="#{resource['images:backImage6.jpg']}" alt="" />
                                            <span class="movieTitle" id="title6">#{movieManager.criticallyAcclaimedTitles[5]}</span>
                                            <span class="rtRating">
                                                <img src="#{resource['images:rtIcon.png']}" style="width:26%; height:27%; margin-bottom:5px;" />
                                                <span style="margin-left: 10px; ">
                                                    #{movieManager.criticallyAcclaimedRTRating[5]}
                                                </span>
                                            </span>

                                            <span class="imdbRating">
                                                <img src="#{resource['images:imdbIcon.png']}" style="width:50%; height:25%; margin-bottom: 5px; margin-top: 5px;" />                                                         
                                                <span style="margin-left: 10px;">
                                                    #{movieManager.criticallyAcclaimedImdbRating[5]}
                                                </span>
                                            </span>
                                            <span class="criticsConsensus"><u><b>Critics Consensus:</b></u> #{movieManager.criticallyAcclaimedRTCriticsConsensus[5]}
                                            </span>
                                        </div>
                                        <a class="youtube" href="https://www.youtube.com/watch?v=guGBUaxtwxE"
                                           title="Watch Trailer">
                                            <img src="#{resource['images:playIcon.png']}" border="0" class="playIcon" />
                                        </a>
                                    </div>
                                </div>
                                <div class="nav">
                                    <label for="img-5" class="prev">&#x2039;</label>
                                    <label for="img-1" class="next">&#x203a;</label>
                                </div>
                            </li>

                            <li class="nav-dots">
                                <label for="img-1" class="nav-dot" id="img-dot-1"></label>
                                <label for="img-2" class="nav-dot" id="img-dot-2"></label>
                                <label for="img-3" class="nav-dot" id="img-dot-3"></label>
                                <label for="img-4" class="nav-dot" id="img-dot-4"></label>
                                <label for="img-5" class="nav-dot" id="img-dot-5"></label>
                                <label for="img-6" class="nav-dot" id="img-dot-6"></label>
                            </li>
                        </ul>
                        <br />
                        <br />
                        <br />
                        <div id="topPostersDiv" align="center">
                            <br/>
                            <h1 id="popularTitle">MOST POPULAR</h1>

                            <h:panelGrid styleClass="topPostersPanel" border="1">
                                <h:panelGrid columns="5" border="0" cellpadding="10" cellspacing="10">
                                    <h:commandLink action="#{movieManager.searchByTitle()}">
                                        <f:ajax event="action" listener="#{movieManager.setSearchTitle(movieManager.mostPopularTitles[0])}"/>
                                        <h:graphicImage class="grow" url="#{movieManager.mostPopularPosters[0]}"
                                                        width="180" height="267" alt="Movie img" title="Find Showings"/>
                                    </h:commandLink>

                                    <h:commandLink action="#{movieManager.searchByTitle()}">
                                        <f:ajax event="action" listener="#{movieManager.setSearchTitle(movieManager.mostPopularTitles[1])}"/>
                                        <h:graphicImage class="grow" url="#{movieManager.mostPopularPosters[1]}"
                                                        width="180" height="266" alt="Movie img" title="Find Showings"/>
                                    </h:commandLink>

                                    <h:commandLink action="#{movieManager.searchByTitle()}">
                                        <f:ajax event="action" listener="#{movieManager.setSearchTitle(movieManager.mostPopularTitles[2])}"/>
                                        <h:graphicImage class="grow" url="#{movieManager.mostPopularPosters[2]}"
                                                        width="180" height="267" alt="Movie img" title="Find Showings"/>
                                    </h:commandLink>

                                    <h:commandLink action="#{movieManager.searchByTitle()}">
                                        <f:ajax event="action" listener="#{movieManager.setSearchTitle(movieManager.mostPopularTitles[3])}"/>
                                        <h:graphicImage class="grow" url="#{movieManager.mostPopularPosters[3]}"
                                                        width="180" height="267" alt="Movie img" title="Find Showings"/>
                                    </h:commandLink>

                                    <h:commandLink action="#{movieManager.searchByTitle()}">
                                        <f:ajax event="action" listener="#{movieManager.setSearchTitle(movieManager.mostPopularTitles[4])}"/>
                                        <h:graphicImage class="grow" url="#{movieManager.mostPopularPosters[4]}"
                                                        width="180" height="267" alt="Movie img" title="Find Showings"/>
                                    </h:commandLink>
                                </h:panelGrid>
                            </h:panelGrid>
                            <br/>
                            <br/>
                            <br/>
                        </div>
                    </h:form>

                </div>
            </ui:define>
        </ui:composition>
        <br />
        <h:link outcome="/bought/List" value="Show All Bought Items"/>
        <br />
        <h:link outcome="/favorited/List" value="Show All Favorited Items"/>
        <br />
        <h:link outcome="/location/List" value="Show All Location Items"/>
        <br />
        <h:link outcome="/photo/List" value="Show All Photo Items"/>
        <br />
        <h:link outcome="/user/List" value="Show All User Items"/>
    </h:body>

</html>


