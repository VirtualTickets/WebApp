<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Virtual Tickets Cloud App</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <!-- <h:outputStylesheet name="css/jsfcrud.css"/> -->
    </h:head>


    <h:body>
        <ui:composition template="/templates/main.xhtml">
            <ui:define name="content">
                <div align="center">
                    <h:form class="form">
				<div align="center">
                                    <br />
                                    <br />
                                    <h:panelGrid border="1">
                                        <h:panelGrid columns="2" columnClasses="rightAlign, leftAlign" bgcolor="lightblue">
                                            <h:panelGroup>
                                                <h2>Tickets &amp; Showtimes Near: </h2>
                                            </h:panelGroup>
                                            <h:panelGroup>
                                                <h:inputText id="zip" value="#{movieManager.zipCode}" required="true" label="Zip Code">
                                                    <f:validateLength minimum="5" />
                                                </h:inputText>
                                                    <h:commandButton id="changeLoc"  action="#{movieManager.changeLocation()}" value="Change Location" styleClass="buttonText"/>
                                            </h:panelGroup>
                                            <h:panelGroup style="display:block; text-align:center">
                                                <h:selectOneMenu id="select_movie" value="#{movieManager.searchTitle}" required="true" onchange="dropdownSelect()" style="font-size:18px">
                                                    <f:selectItems value="#{movieManager.nowPlayingTitles}"/>
                                                </h:selectOneMenu>
                                            </h:panelGroup>
                                            <h:commandButton id="getShowtimes"  action="#{movieManager.searchByTitle()}" value="Get Tickets &amp; Showtimes" styleClass="buttonText" style="width:240px; height:40px; font-size:20px"/>
                                        </h:panelGrid>
                                    </h:panelGrid>
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <br />
                                    <h2>Currently Showing:</h2>
                                    <h:panelGrid border="1">
                                        <h:panelGrid columns="5" bgcolor="lightblue" border="0" cellpadding="10" cellspacing="10">
                                            <h:commandLink>
                                                <f:ajax event="action" listener="#{movieManager.changeLocation()}"/>
                                                <h:graphicImage url="#{movieManager.nowPlayingPosters[0]}"
                                                                width="180" height="267" alt="Movie img" onclick=""/>
                                            </h:commandLink>

                                            <h:commandLink>
                                                <f:ajax event="action" listener="#{movieManager.changeLocation()}"/>
                                                <h:graphicImage url="#{movieManager.nowPlayingPosters[1]}"
                                                                width="180" height="266" alt="Movie img"/>
                                            </h:commandLink>

                                            <h:commandLink>
                                                <f:ajax event="action" listener="#{movieManager.changeLocation()}"/>
                                                <h:graphicImage url="#{movieManager.nowPlayingPosters[2]}"
                                                                width="180" height="267" alt="Movie img"/>
                                            </h:commandLink>

                                            <h:commandLink>
                                                <f:ajax event="action" listener="#{movieManager.changeLocation()}"/>
                                                <h:graphicImage url="#{movieManager.nowPlayingPosters[3]}"
                                                                width="180" height="267" alt="Movie img"/>
                                            </h:commandLink>

                                            <h:commandLink>
                                                <f:ajax event="action" listener="#{movieManager.changeLocation()}"/>
                                                <h:graphicImage url="#{movieManager.nowPlayingPosters[4]}"
                                                                width="180" height="267" alt="Movie img"/>
                                            </h:commandLink>
                                        </h:panelGrid>
                                    </h:panelGrid>
				</div>
                    </h:form>
                    
                </div>
            </ui:define>
        </ui:composition>
    </h:body>

</html>


